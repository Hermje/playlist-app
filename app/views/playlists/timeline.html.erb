<div class="modal fade" id="editMemory" tabindex="-1" role="dialog" aria-labelledby="editMemoryModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editMemoryModalLabel">Edit Memory</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <div class="modal-body">
        <%= render "playlists/edit_memory_form" %>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addImage" tabindex="-1" role="dialog" aria-labelledby="addImageModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addImageModalLabel">Edit Memory</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">x</span>
        </button>
      </div>
      <div class="modal-body">
        <%= render "playlists/add_image_form" %>
      </div>
    </div>
  </div>
</div>


<nav class="navbar navbar-dark shadow">
  <% if @tracks[0] != nil %>
    <a href="/playlists/index" class="navbar-brand mb-0 h1"><%= @tracks[0].memory_date %> - <%= @tracks[0].title %></a>
  <% end %>
  <ul class="nav nav-pills">
    <li class='nav-item'><%= link_to "back", {:controller => 'playlists', :action => 'index'} %></li>
    <li class='nav-item'><%= link_to "edit", "#editMemory", {'data-toggle' => 'modal', 'id' => 'edit', 'class' => 'nav-link', 'data-target' => '#editMemory', 'id' => 'edit-button'} %></li>
  </ul>
</nav>

<div id="current-memory">
  <div id="track-art-container">
    <% if @tracks[0].image.attached? %>
      <img class='track-art' src=<%= url_for(@tracks[0].image) %>/>
    <% else %>
      <%= link_to "add image", "#addImage", {'data-toggle' => 'modal', 'id' => 'imageadd', 'class' => 'nav-link', 'data-target' => '#addImage', 'id' => 'image-button'} %>
    <% end %>
  </div>
</div>

<div id="memory-info">
  <% unless @tracks[0].nil? %>
    <h4 class='memory'><%= @tracks[0].memory_date %></h4>
    <h4 class='memory'><%= @tracks[0].memory %></h4>
  <% end %>
</div>

<p></p>
<!-- <p id='play' class='button'><%=link_to 'play', {:controller => 'players', :action => 'play', :playlist_name => @playlist_name, :track_name => @track_name} %></p> -->

<% unless @track.nil? %>
  <style>
    body {
      background:
        linear-gradient(
          rgba(30, 32, 35, 0.45),
          rgba(30, 32, 35, 0.45)
        ),
        url('<%= @track.album.images[1]['url'] %>') !important;
    }
  </style>
<% end %>
